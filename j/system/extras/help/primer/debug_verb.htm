<html>
<head>
<title>Debug - step through</title>
<LINK REL=stylesheet HREF="../jdoc.css" TYPE="text/css">
</head><body><!--top jump start--><a href="debug_error.htm">&gt&gt;</a>&nbsp;
<a href="checkpoint_b.htm">&lt&lt;</a>&nbsp;
<a href="../index/a.htm">Ndx</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../user/win_driver_cmd_ref_overview.htm">wd</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Primer<hr><!--top jump end-->


 

<TR valign="baseline"><TD><H1>Debug - stepping through a verb</h1><TR><TD>
<p>Debug requires a prokey, and will fail with domain error if a prokey is not set.
For more information, see <a href="../user/products.htm">products</a>. If you have not purchased
a prokey you won't be able to use debug on your system. You will 
probably still find it interesting to read these debug sections.</p>
<P>In an earlier section you added a debugging line to a verb definition that allowed you to see the results of intermediate steps when the verb was run. Sometimes you need more powerful tools than that.</P>

<P>Use <TT>load </TT>to load the debug utilities.
</P>
<PRE>   load 'debug'
</PRE>
<P>Open your script file cf.ijs and run it.
</P>
<P>Let's execute <TT>centigrade</TT>, but with a stop on each line so that you can take a look at exactly what is going on.</P>

<PRE>   dbss 'centigrade *:*'
</PRE>
<P>The <TT>dbss </TT>(Set Stop) argument requests a stop before executing all, indicated by <TT>*:*</TT>, lines in <TT>centigrade</TT>.</P>

<PRE>   dbr 1
</PRE>
<P><TT>dbr </TT>with an argument of 1 requests that the system suspend execution when an error or stop occurs. When a verb is suspended it is halted in mid execution. You can examine definitions, change definitions, and you can resume execution of the suspended verb.</P>

<PRE>   centigrade 212
¦stop
¦       t1=.y.-32
¦centigrade[0]
</PRE>
<P>The error report (bars at the left margin) indicates execution stopped on line 0 of <TT>centigrade </TT>and shows the sentence from that line.</P>

<P>The execution of <TT>centigrade </TT>is suspended and the indent of six spaces, rather than three, indicates the suspension. The variable <TT>y.</TT> is the argument.</P>

<PRE>      y.
212</PRE>

<P>The stop occurs before the line is executed, so <TT>t1 </TT>has not been defined and if you try to look at it you will get a value error.</P>

<P>Use <TT>dbrun </TT>to continue execution. It will run the current line, and because stops are set on all lines it will then stop on the next line.</P>

<PRE>      dbrun ''
¦stop
¦       t2=.t1*5
¦centigrade[1]

      t1
180

      t1*5
900</PRE>

<P><TT>centigrade</TT> is now stopped on line 1, and as you can see, you are able to check the value of local t1 that was defined in line 0. Step through the next lines and examine locals.</P>

<PRE>      dbrun ''
¦stop
¦       t3=.t2%9
¦centigrade[2]

      t2
900

      t2%9
100

      dbrun ''
100</PRE>

<P>You are no longer suspended in <TT>centigrade </TT>and you are back to the normal indent of three spaces.</P>

<P>Turn off the request for debug suspensions and reset to have no stops.
</P>
<PRE>   dbr 0
   dbss ''
</PRE>



</TD>
  </tr>
<TR><TD>
<!--bottom jump start--><hr><a href="debug_error.htm">&gt&gt;</a>&nbsp;
<a href="checkpoint_b.htm">&lt&lt;</a>&nbsp;
<a href="../index/a.htm">Ndx</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../user/win_driver_cmd_ref_overview.htm">wd</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Primer<!--bottom jump end--></td></tr></table></body>
</html>
