<html>
<head>
<title>dates</title>
<LINK REL=stylesheet HREF="../jdoc.css" TYPE="text/css">
</head><body><!--top jump start--><a href="script_dd.htm">&gt&gt;</a>&nbsp;
<a href="script_csv.htm">&lt&lt;</a>&nbsp;
<a href="../index/a.htm">Ndx</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../user/win_driver_cmd_ref_overview.htm">wd</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
User<hr><!--top jump end-->

<TR valign="baseline"><TD><H1>dates: date and time utilities</h1>
<TR><TD colspan="2">

<table border=1 bordercolorlight=#808080 bordercolordark=#ffffff cellpadding=2 cellspacing=0>
<!--start of autogenerated html -->
<!-- built 7 May 2001 14:21:35 -->
 <tr bgcolor=#c0c0c0>
 <td>Name</td>
 <td>Type</td>
 <td>Description</td>
 </tr>
<tr>
<td valign="top"><a href="#calendar">calendar</a></td>
<td valign="top">verb</td>
<td valign="top">calendar for year [months]</td>
</tr>
<tr>
<td valign="top"><a href="#getdate">getdate</a></td>
<td valign="top">verb</td>
<td valign="top">get date from character string</td>
</tr>
<tr>
<td valign="top"><a href="#isotimestamp">isotimestamp</a></td>
<td valign="top">verb</td>
<td valign="top">format time stamps as:  2000-05-23 16:06:39.268</td>
</tr>
<tr>
<td valign="top"><a href="#timestamp">timestamp</a></td>
<td valign="top">verb</td>
<td valign="top">format time stamp as:  23 May 1998 16:06:39</td>
</tr>
<tr>
<td valign="top"><a href="#todate">todate</a></td>
<td valign="top">verb</td>
<td valign="top">converts day numbers to dates</td>
</tr>
<tr>
<td valign="top"><a href="#todayno">todayno</a></td>
<td valign="top">verb</td>
<td valign="top">converts dates to day numbers</td>
</tr>
<tr>
<td valign="top"><a href="#tsdiff">tsdiff</a></td>
<td valign="top">verb</td>
<td valign="top">differences between pairs of dates.</td>
</tr>
<tr>
<td valign="top"><a href="#tsrep">tsrep</a></td>
<td valign="top">verb</td>
<td valign="top">timestamp representation as a single number</td>
</tr>
<tr>
<td valign="top"><a href="#valdate">valdate</a></td>
<td valign="top">verb</td>
<td valign="top">validate dates</td>
</tr>
<tr>
<td valign="top"><a href="#weekday">weekday</a></td>
<td valign="top">verb</td>
<td valign="top">returns weekday from date, 0=Sunday ... 6=Saturday</td>
</tr>

</table>

<p>
<a name="calendar"><b>calendar</b></a><br>
<pre>calendar for year [months]
returns calendar for year, as a 12 element list

argument is one or more numbers: year, months
If no months are given, it defaults to all months.

example:
   calendar 1998 5 6
+---------------------+---------------------+
|         May         |         Jun         |
| Su Mo Tu We Th Fr Sa| Su Mo Tu We Th Fr Sa|
|                 1  2|     1  2  3  4  5  6|
|  3  4  5  6  7  8  9|  7  8  9 10 11 12 13|
| 10 11 12 13 14 15 16| 14 15 16 17 18 19 20|
| 17 18 19 20 21 22 23| 21 22 23 24 25 26 27|
| 24 25 26 27 28 29 30| 28 29 30            |
| 31                  |                     |
+---------------------+---------------------+</pre>
<p>
<a name="getdate"><b>getdate</b></a><br>
<pre>get date from character string
form: [opt] getdate string

useful for input forms that have a date entry field

date forms permitted:
    1986 5 23
    May 23 1986
    23 May 1986
and:
  opt=0  (days first - default)
    23 5 1986
  opt=1  (months first)
    5 23 1986

other characters allowed:  ,-/:

if not given, century defaults to current

only first 3 characters of month are tested.

examples:  23/5/86; may 23, 1986; 1986-5-23

requires: valdate</pre>
<p>
<a name="isotimestamp"><b>isotimestamp</b></a><br>
<pre>format time stamps as:  2000-05-23 16:06:39.268
y. is one or more time stamps in 6!:0 format</pre>
<p>
<a name="timestamp"><b>timestamp</b></a><br>
<pre>format time stamp as:  23 May 1998 16:06:39
y. is time stamp, if empty default to current time</pre>
<p>
<a name="todate"><b>todate</b></a><br>
<pre>converts day numbers to dates
converts day numbers to dates, converse &lt;todayno&gt;

This conversion is exact and provides a means of
performing exact date arithmetic.

y. = day numbers
x. = optional:
  0 - result in form &lt;yyyy mm dd&gt; (default)
  1 - result in form &lt;yyyymmdd&gt;

example:
   todate 72460
1998 5 23

   todate 0 1 2 3 + todayno 1992 2 27
1992 2 27
1992 2 28
1992 2 29
1992 3  1</pre>
<p>
<a name="todayno"><b>todayno</b></a><br>
<pre>converts dates to day numbers
converts dates to day numbers, converse &lt;todate&gt;

y. = dates
x. = optional:
  0 - dates in form &lt;yyyy mm dd&gt; (default)
  1 - dates in form &lt;yyyymmdd&gt;
0 = todayno 1800 1 1, or earlier

example:
   todayno 1998 5 23
72460</pre>
<p>
<a name="tsdiff"><b>tsdiff</b></a><br>
<pre>differences between pairs of dates.

form:  end tsdiff begin
  end, begin are vectors or matrices in form YYYY MM DD
  end dates should be later than begin dates

method is to subtract dates on a calendar basis to determine
integral number of months plus the exact number of days remaining.
This is converted to payment periods, where # days remaining are
calculated as: (# days)%365

example:
   1994 10 1 tsdiff 1986 5 23
8.35799</pre>
<p>
<a name="tsrep"><b>tsrep</b></a><br>
<pre>timestamp representation as a single number

form: [opt] timerep times
  opt=0  convert timestamps to numbers (default)
      1  convert numbers to timestamps

timestamps are in 6!:0 format, or matrix of same.

examples:
   tsrep 1800 1 1 0 0 0
0
   &quot;:!.13 tsrep 1995 5 23 10 24 57.24
6165887097240</pre>
<p>
<a name="valdate"><b>valdate</b></a><br>
<pre>validate dates
form: valdate dates
dates is 3-element vector
      or 3-column matrix
      in form YYYY MM DD
returns 1 if valid</pre>
<p>
<a name="weekday"><b>weekday</b></a><br>
<pre>returns weekday from date, 0=Sunday ... 6=Saturday
arguments as for &lt;todayno&gt;, e.g.

    5 = weekday 1997 5 23 = 1 weekday 19970523</pre>
<p>
<!--end of autogenerated html --> </TD></tr>
<TR><TD>
<!--bottom jump start--><hr><a href="script_dd.htm">&gt&gt;</a>&nbsp;
<a href="script_csv.htm">&lt&lt;</a>&nbsp;
<a href="../index/a.htm">Ndx</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../user/win_driver_cmd_ref_overview.htm">wd</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
User<!--bottom jump end--></td></tr></table></body>
</html>
 
